{"version":3,"sources":["webpack:///./node_modules/@babel/runtime-corejs2/core-js/date/now.js","webpack:///./node_modules/core-js/library/modules/es6.number.parse-int.js","webpack:///./node_modules/core-js/library/modules/es6.date.now.js","webpack:///./node_modules/core-js/library/fn/number/parse-int.js","webpack:///./node_modules/core-js/library/modules/_parse-int.js","webpack:///./node_modules/@babel/runtime-corejs2/core-js/number/parse-int.js","webpack:///./src/pages/Note/index.vue?19ed","webpack:///./src/db/config.js","webpack:///./src/db/ops.js","webpack:///./src/db/addNote.js","webpack:///./src/db/getNote.js","webpack:///./src/db/updateNote.js","webpack:///./src/db/delNote.js","webpack:///./src/db/index.js","webpack:///./src/pages/Note/index.vue?2b1a","webpack:///src/pages/Note/index.vue","webpack:///./src/pages/Note/index.vue?457f","webpack:///./src/pages/Note/index.vue","webpack:///./node_modules/core-js/library/modules/_string-trim.js","webpack:///./node_modules/core-js/library/modules/_string-ws.js","webpack:///./node_modules/core-js/library/fn/date/now.js"],"names":["module","exports","__webpack_require__","$export","$parseInt","S","F","Number","parseInt","now","Date","getTime","$trim","trim","ws","hex","str","radix","string","String","test","_node_modules_mini_css_extract_plugin_dist_loader_js_ref_10_oneOf_1_0_node_modules_css_loader_index_js_ref_10_oneOf_1_1_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_postcss_loader_src_index_js_ref_10_oneOf_1_2_node_modules_less_loader_dist_cjs_js_ref_10_oneOf_1_3_node_modules_cache_loader_dist_cjs_js_ref_0_0_node_modules_vue_loader_lib_index_js_vue_loader_options_index_vue_vue_type_style_index_0_id_5a0361b7_lang_less_scoped_true___WEBPACK_IMPORTED_MODULE_0__","_node_modules_mini_css_extract_plugin_dist_loader_js_ref_10_oneOf_1_0_node_modules_css_loader_index_js_ref_10_oneOf_1_1_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_postcss_loader_src_index_js_ref_10_oneOf_1_2_node_modules_less_loader_dist_cjs_js_ref_10_oneOf_1_3_node_modules_cache_loader_dist_cjs_js_ref_0_0_node_modules_vue_loader_lib_index_js_vue_loader_options_index_vue_vue_type_style_index_0_id_5a0361b7_lang_less_scoped_true___WEBPACK_IMPORTED_MODULE_0___default","n","DBName","TableName","Version","dbGet","val","key","arguments","length","undefined","promise_default","a","resolve","reject","request","window","indexedDB","open","onsuccess","event","db","target","result","transaction","objectStore","idx","index","requestGet","get","onerror","dbAdd","data","requestAdd","add","dbUpdate","kvals","handler","e","prop","hasOwnProperty","requestUpdate","put","dbDelete","kval","requestDelete","delete","dbGetAll","requestCursor","openCursor","ret","cursor","push","value","continue","NewNote","now_default","title","content","createAt","updateAt","GetNoteByID","id","GetAllNotes","UpdateNote","DeleteNote","d","__webpack_exports__","addNote_NewNote","getNote_GetNoteByID","getNote_GetAllNotes","updateNote_UpdateNote","delNote_DeleteNote","onupgradeneeded","createObjectStore","keyPath","autoIncrement","createIndex","unique","console","log","render","_vm","this","_h","$createElement","_c","_self","attrs","staticClass","directives","name","rawName","expression","type","placeholder","domProps","on","input","$event","composing","mod","class","in","menuIn","role","click","goBack","icon","_e","handleUpdateNote","handleDeleteNote","close","menuNIn","handleMenuToggle","staticRenderFns","Notevue_type_script_lang_js_","created","_this","noteID","parse_int_default","$route","params","Object","then","res","catch","$msg","message","duration","onClose","mounted","_this2","timer","setTimeout","clearTimeout","computed","isNew","methods","back","_this3","$router","_this4","$confirm","_this5","_this6","pages_Notevue_type_script_lang_js_","component","componentNormalizer","defined","fails","spaces","space","non","ltrim","RegExp","rtrim","exporter","KEY","exec","ALIAS","exp","FORCE","fn","P","TYPE","replace"],"mappings":"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","file":"js/note.c27015c3.js","sourcesContent":["module.exports = require(\"core-js/library/fn/date/now\");","var $export = require('./_export');\nvar $parseInt = require('./_parse-int');\n// 20.1.2.13 Number.parseInt(string, radix)\n$export($export.S + $export.F * (Number.parseInt != $parseInt), 'Number', { parseInt: $parseInt });\n","// 20.3.3.1 / 15.9.4.4 Date.now()\nvar $export = require('./_export');\n\n$export($export.S, 'Date', { now: function () { return new Date().getTime(); } });\n","require('../../modules/es6.number.parse-int');\nmodule.exports = require('../../modules/_core').Number.parseInt;\n","var $parseInt = require('./_global').parseInt;\nvar $trim = require('./_string-trim').trim;\nvar ws = require('./_string-ws');\nvar hex = /^[-+]?0[xX]/;\n\nmodule.exports = $parseInt(ws + '08') !== 8 || $parseInt(ws + '0x16') !== 22 ? function parseInt(str, radix) {\n  var string = $trim(String(str), 3);\n  return $parseInt(string, (radix >>> 0) || (hex.test(string) ? 16 : 10));\n} : $parseInt;\n","module.exports = require(\"core-js/library/fn/number/parse-int\");","import mod from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--10-oneOf-1-0!../../../node_modules/css-loader/index.js??ref--10-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--10-oneOf-1-2!../../../node_modules/less-loader/dist/cjs.js??ref--10-oneOf-1-3!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./index.vue?vue&type=style&index=0&id=5a0361b7&lang=less&scoped=true&\"; export default mod; export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--10-oneOf-1-0!../../../node_modules/css-loader/index.js??ref--10-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--10-oneOf-1-2!../../../node_modules/less-loader/dist/cjs.js??ref--10-oneOf-1-3!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./index.vue?vue&type=style&index=0&id=5a0361b7&lang=less&scoped=true&\"","export const DBName = 'notebook-h5'\nexport const TableName = 'notes'\nexport const Version = 1\n","import { DBName, TableName, Version } from './config.js'\n\nexport const dbGet = (val, key = 'id') =>\n  new Promise((resolve, reject) => {\n    const request = window.indexedDB.open(DBName, Version)\n    request.onsuccess = event => {\n      const db = event.target.result\n      const transaction = db.transaction([TableName], 'readwrite')\n      const objectStore = transaction.objectStore(TableName)\n      const idx = objectStore.index(key)\n      const requestGet = idx.get(val)\n      requestGet.onsuccess = event => {\n        resolve(event.target.result)\n      }\n      requestGet.onerror = event => {\n        reject(event)\n      }\n    }\n    request.onerror = event => {\n      reject(event)\n    }\n  })\n\nexport const dbAdd = data =>\n  new Promise((resolve, reject) => {\n    const request = window.indexedDB.open(DBName, Version)\n    request.onsuccess = event => {\n      const db = event.target.result\n      const transaction = db.transaction([TableName], 'readwrite')\n      const objectStore = transaction.objectStore(TableName)\n      const requestAdd = objectStore.add(data)\n      requestAdd.onsuccess = event => {\n        resolve(event)\n      }\n      requestAdd.onerror = event => {\n        reject(event)\n      }\n    }\n    request.onerror = event => {\n      reject(event)\n    }\n  })\n\nexport const dbUpdate = (val, kvals = {}, key = 'id') =>\n  new Promise((resolve, reject) => {\n    const request = window.indexedDB.open(DBName, Version)\n    request.onsuccess = function (event) {\n      const db = event.target.result\n      const transaction = db.transaction([TableName], 'readwrite')\n      const objectStore = transaction.objectStore(TableName)\n      const idx = objectStore.index(key)\n      const handler = idx.get(val)\n      handler.onsuccess = e => {\n        const data = e.target.result\n        for (let prop in kvals) {\n          if (data.hasOwnProperty(prop)) {\n            data[prop] = kvals[prop]\n          }\n        }\n        const requestUpdate = objectStore.put(data)\n        requestUpdate.onerror = function (event) {\n          reject(event)\n        }\n        requestUpdate.onsuccess = function (event) {\n          resolve(event)\n        }\n      }\n      handler.onerror = event => {\n        reject(event)\n      }\n    }\n    request.onerror = event => {\n      reject(event)\n    }\n  })\n\nexport const dbDelete = kval =>\n  new Promise((resolve, reject) => {\n    const request = window.indexedDB.open(DBName, Version)\n    request.onsuccess = event => {\n      const db = event.target.result\n      const transaction = db.transaction([TableName], 'readwrite')\n      const objectStore = transaction.objectStore(TableName)\n      const requestDelete = objectStore.delete(kval)\n      requestDelete.onsuccess = event => {\n        resolve(event)\n      }\n      requestDelete.onerror = event => {\n        reject(event)\n      }\n    }\n    request.onerror = event => {\n      reject(event)\n    }\n  })\n\nexport const dbGetAll = () =>\n  new Promise((resolve, reject) => {\n    const request = window.indexedDB.open(DBName, Version)\n    request.onsuccess = event => {\n      const db = event.target.result\n      const transaction = db.transaction([TableName], 'readwrite')\n      const objectStore = transaction.objectStore(TableName)\n      const requestCursor = objectStore.openCursor()\n      const ret = []\n      requestCursor.onsuccess = event => {\n        const cursor = event.target.result\n        if (cursor) {\n          ret.push(cursor.value)\n          cursor.continue()\n        } else {\n          resolve(ret)\n        }\n      }\n      requestCursor.onerror = event => {\n        reject(event)\n      }\n    }\n    request.onerror = event => {\n      reject(event)\n    }\n  })\n","import { dbAdd } from './ops'\n\nexport const NewNote = () => {\n  const now = Date.now()\n  return dbAdd({\n    title: '',\n    content: '',\n    createAt: now,\n    updateAt: now\n  })\n}\n","import { dbGet, dbGetAll } from './ops'\n\nexport const GetNoteByID = id => dbGet(id)\nexport const GetAllNotes = () => dbGetAll()\n","import { dbUpdate } from './ops'\n\nexport const UpdateNote = (id, kvals) => dbUpdate(id, kvals)\n","import { dbDelete } from './ops'\n\nexport const DeleteNote = id => dbDelete(id)\n","import { DBName, TableName, Version } from './config.js'\n\nconst request = window.indexedDB.open(DBName, Version)\n\nrequest.onupgradeneeded = event => {\n  const db = event.target.result\n  const objectStore = db.createObjectStore(TableName, {\n    keyPath: 'id',\n    autoIncrement: true\n  })\n  objectStore.createIndex('id', 'id', { unique: true })\n  objectStore.createIndex('title', 'title', { unique: false })\n}\n\nrequest.onerror = () => {\n  console.log(\"Why didn't you allow my web app to use IndexedDB?!\")\n}\n\nexport { NewNote } from './addNote'\nexport { GetNoteByID, GetAllNotes } from './getNote'\nexport { UpdateNote } from './updateNote'\nexport { DeleteNote } from './delNote'\n","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{attrs:{\"id\":\"page-note\"}},[_c('div',{staticClass:\"note-container\"},[_c('div',{staticClass:\"note-title\"},[_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.title),expression:\"title\"}],staticClass:\"note-title-input\",attrs:{\"type\":\"text\",\"placeholder\":\"无标题\"},domProps:{\"value\":(_vm.title)},on:{\"input\":[function($event){if($event.target.composing){ return; }_vm.title=$event.target.value},function($event){_vm.mod =true}]}})]),_c('div',{staticClass:\"note-content\"},[_c('textarea',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.content),expression:\"content\"}],staticClass:\"note-content-textarea\",attrs:{\"placeholder\":\"请输入想记录的文字\"},domProps:{\"value\":(_vm.content)},on:{\"input\":[function($event){if($event.target.composing){ return; }_vm.content=$event.target.value},function($event){_vm.mod =true}]}})]),_c('div',{staticClass:\"btn-group btn-ops\",class:{in: _vm.menuIn}},[_c('transition',{attrs:{\"name\":\"fade-btn\"}},[(_vm.menuNIn)?_c('span',{staticClass:\"btn btn-back\",attrs:{\"role\":\"button\"},on:{\"click\":_vm.goBack}},[_c('fa-icon',{attrs:{\"icon\":\"chevron-left\"}})],1):_vm._e()]),_c('transition',{attrs:{\"name\":\"fade-btn\"}},[(_vm.menuNIn)?_c('span',{staticClass:\"btn btn-save\",attrs:{\"role\":\"button\"},on:{\"click\":_vm.handleUpdateNote}},[_c('fa-icon',{attrs:{\"icon\":\"check\"}})],1):_vm._e()]),_c('transition',{attrs:{\"name\":\"fade-btn\"}},[(_vm.menuNIn)?_c('span',{staticClass:\"btn btn-del\",attrs:{\"role\":\"button\"},on:{\"click\":_vm.handleDeleteNote}},[_c('fa-icon',{attrs:{\"icon\":\"trash\"}})],1):_vm._e()]),_c('span',{staticClass:\"btn btn-menu\",class:{close: _vm.menuNIn, open: !_vm.menuNIn},attrs:{\"role\":\"button\"},on:{\"click\":_vm.handleMenuToggle}})],1)])])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <div id=\"page-note\">\n    <div class=\"note-container\">\n      <div class=\"note-title\">\n        <input\n          class=\"note-title-input\"\n          type=\"text\"\n          @input=\"mod =true\"\n          placeholder=\"无标题\"\n          v-model=\"title\"\n        >\n      </div>\n      <div class=\"note-content\">\n        <textarea\n          @input=\"mod =true\"\n          placeholder=\"请输入想记录的文字\"\n          class=\"note-content-textarea\"\n          v-model=\"content\"\n        ></textarea>\n      </div>\n      <div\n        class=\"btn-group btn-ops\"\n        :class=\"{in: menuIn}\"\n      >\n        <transition name=\"fade-btn\">\n          <span\n            role=\"button\"\n            v-if=\"menuNIn\"\n            class=\"btn btn-back\"\n            @click=\"goBack\"\n          >\n            <fa-icon icon=\"chevron-left\"></fa-icon>\n          </span>\n        </transition>\n        <transition name=\"fade-btn\">\n          <span\n            role=\"button\"\n            v-if=\"menuNIn\"\n            class=\"btn btn-save\"\n            @click=\"handleUpdateNote\"\n          >\n            <fa-icon icon=\"check\"></fa-icon>\n          </span>\n        </transition>\n        <transition name=\"fade-btn\">\n          <span\n            role=\"button\"\n            v-if=\"menuNIn\"\n            class=\"btn btn-del\"\n            @click=\"handleDeleteNote\"\n          >\n            <fa-icon icon=\"trash\"></fa-icon>\n          </span>\n        </transition>\n        <span\n          role=\"button\"\n          class=\"btn btn-menu\"\n          :class=\"{close: menuNIn, open: !menuNIn}\"\n          @click=\"handleMenuToggle\"\n        ></span>\n      </div>\n    </div>\n  </div>\n</template>\n\n<script>\nimport { GetNoteByID, UpdateNote, DeleteNote } from '@/db'\n\nexport default {\n  name: 'Note',\n  created () {\n    const noteID = Number.parseInt(this.$route.params['id'] || '-1')\n    this.id = noteID\n    GetNoteByID(noteID)\n      .then(res => {\n        this.title = res.title\n        this.content = res.content\n      }).catch(res => {\n        this.$msg({\n          type: 'danger',\n          message: '读取笔记失败！',\n          duration: 800,\n          onClose: () => {\n            this.goBack()\n          }\n        })\n      })\n  },\n  mounted () {\n    const timer = setTimeout(() => {\n      clearTimeout(timer)\n      this.menuIn = true\n    }, 0)\n  },\n  data () {\n    return {\n      id: -1,\n      title: '',\n      content: '',\n      mod: false,\n      menuIn: false,\n      menuNIn: false\n    }\n  },\n  computed: {\n    isNew () {\n      return this.id === -1\n    }\n  },\n  methods: {\n    back () {\n      this.menuNIn = false\n      const timer = setTimeout(() => {\n        clearTimeout(timer)\n        this.$router.back()\n      }, 250)\n    },\n    goBack () {\n      if (!this.mod) {\n        this.back()\n      } else {\n        this.menuNIn = false\n        this.$confirm('笔记未保存，需要保存？')\n          .then(() => {\n            this.handleUpdateNote()\n              .then(() => {\n                this.back()\n              })\n          }).catch(() => {\n            this.back()\n          })\n      }\n    },\n    handleMenuToggle () {\n      this.menuNIn = !this.menuNIn\n    },\n    handleUpdateNote () {\n      this.menuNIn = false\n      const { title, content } = this\n      return UpdateNote(this.id, { title, content, updateAt: Date.now() })\n        .then(res => {\n          this.mod = false\n          this.$msg({\n            type: 'success',\n            message: '保存笔记成功！',\n            duration: 800\n          })\n        }).catch(res => {\n          this.$msg({\n            type: 'danger',\n            message: '保存笔记失败！',\n            duration: 800\n          })\n        })\n    },\n    handleDeleteNote () {\n      this.mod = false\n      this.menuNIn = false\n      this.$confirm('确定删除此篇笔记？')\n        .then(() => {\n          DeleteNote(this.id)\n            .then(res => {\n              this.$msg({\n                type: 'success',\n                message: '删除笔记成功！',\n                duration: 800,\n                onClose: () => {\n                  this.goBack()\n                }\n              })\n            }).catch(res => {\n              this.$msg({\n                type: 'danger',\n                message: '删除笔记失败！',\n                duration: 800\n              })\n            })\n        }).catch(() => { })\n    }\n  }\n}\n</script>\n\n<style lang=\"less\" scoped>\n#page-note {\n  height: 100%;\n}\n.note {\n  &-container {\n    display: flex;\n    height: 100%;\n    padding: 0.2rem;\n    flex-direction: column;\n    box-sizing: border-box;\n  }\n  &-title {\n    padding-top: 0.2rem;\n    padding: 0.4rem 0.2rem;\n    box-sizing: border-box;\n    background-color: #fff;\n    border-bottom: 0.02rem solid #ccc;\n    &-input {\n      padding: 0;\n      width: 100%;\n      color: #333;\n      border: none;\n      outline: none;\n      display: block;\n      line-height: 1;\n      font-size: 0.55rem;\n      background-color: transparent;\n    }\n  }\n  &-content {\n    padding: 0.2rem;\n    margin-top: 0.2rem;\n    background-color: #fff;\n    box-sizing: border-box;\n    flex-grow: 1;\n    display: flex;\n    flex-direction: column;\n    &-textarea {\n      flex-grow: 1;\n      color: #777;\n      width: 100%;\n      height: 100%;\n      display: block;\n      border: none;\n      outline: none;\n      resize: none;\n      line-height: 1.5;\n      font-weight: 400;\n      font-size: 0.45rem;\n      background-color: transparent;\n    }\n  }\n}\n.fade-btn {\n  &-enter-active,\n  &-leave-active {\n    transition: all 250ms cubic-bezier(0.55, 0, 0.1, 1);\n  }\n  &-enter,\n  &-leave-to {\n    opacity: 0;\n    transform: translateY(2rem);\n  }\n  &-enter-to,\n  &-leave {\n    opacity: 1;\n    transform: translateY(0);\n  }\n}\n.btn {\n  color: #fff;\n  width: 1.8rem;\n  display: flex;\n  height: 1.8rem;\n  position: fixed;\n  font-size: 0.7rem;\n  align-items: center;\n  border-radius: 100%;\n  justify-content: center;\n  background-color: #41b883;\n  box-shadow: 5px 5px 10px rgba(0, 0, 0, 0.2);\n  &-back {\n    bottom: 6.9rem;\n    transition-delay: 100ms;\n    background-color: #8f9399;\n  }\n  &-save {\n    bottom: 4.9rem;\n    transition-delay: 50ms;\n    background-color: #3f9eff;\n  }\n  &-del {\n    bottom: 2.9rem;\n    transition-delay: 0;\n    background-color: #f56c6c;\n  }\n  &-ops {\n    opacity: 0;\n    right: 0.9rem;\n    bottom: -0.9rem;\n    position: fixed;\n    transition: all 250ms cubic-bezier(0.55, 0, 0.1, 1);\n    &.in {\n      bottom: 0.9rem;\n      opacity: 1;\n    }\n    [role=\"button\"] {\n      user-select: none;\n    }\n  }\n  &-menu {\n    position: relative;\n    transition: all 250ms cubic-bezier(0.55, 0, 0.1, 1);\n    &::after,\n    &::before {\n      transition: all 250ms cubic-bezier(0.55, 0, 0.1, 1);\n    }\n    &.open::after {\n      content: \"\";\n      top: 0.55rem;\n      width: 0.5rem;\n      height: 0.5rem;\n      right: 0.55rem;\n      display: block;\n      position: absolute;\n      border-radius: 100%;\n      border: 0.1rem solid #fff;\n    }\n    &.close::before {\n      content: \"\";\n      top: 0.56rem;\n      width: 0.75rem;\n      right: 0.4rem;\n      display: block;\n      position: absolute;\n      height: 0.1rem;\n      background-color: #fff;\n      transform: rotateZ(45deg);\n      transform-origin: left;\n    }\n    &.close::after {\n      content: \"\";\n      top: 1.08rem;\n      width: 0.75rem;\n      right: 0.4rem;\n      display: block;\n      position: absolute;\n      height: 0.1rem;\n      background-color: #fff;\n      transform: rotateZ(-45deg);\n      transform-origin: left;\n    }\n  }\n}\n</style>\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./index.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./index.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./index.vue?vue&type=template&id=5a0361b7&scoped=true&\"\nimport script from \"./index.vue?vue&type=script&lang=js&\"\nexport * from \"./index.vue?vue&type=script&lang=js&\"\nimport style0 from \"./index.vue?vue&type=style&index=0&id=5a0361b7&lang=less&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"5a0361b7\",\n  null\n  \n)\n\nexport default component.exports","var $export = require('./_export');\nvar defined = require('./_defined');\nvar fails = require('./_fails');\nvar spaces = require('./_string-ws');\nvar space = '[' + spaces + ']';\nvar non = '\\u200b\\u0085';\nvar ltrim = RegExp('^' + space + space + '*');\nvar rtrim = RegExp(space + space + '*$');\n\nvar exporter = function (KEY, exec, ALIAS) {\n  var exp = {};\n  var FORCE = fails(function () {\n    return !!spaces[KEY]() || non[KEY]() != non;\n  });\n  var fn = exp[KEY] = FORCE ? exec(trim) : spaces[KEY];\n  if (ALIAS) exp[ALIAS] = fn;\n  $export($export.P + $export.F * FORCE, 'String', exp);\n};\n\n// 1 -> String#trimLeft\n// 2 -> String#trimRight\n// 3 -> String#trim\nvar trim = exporter.trim = function (string, TYPE) {\n  string = String(defined(string));\n  if (TYPE & 1) string = string.replace(ltrim, '');\n  if (TYPE & 2) string = string.replace(rtrim, '');\n  return string;\n};\n\nmodule.exports = exporter;\n","module.exports = '\\x09\\x0A\\x0B\\x0C\\x0D\\x20\\xA0\\u1680\\u180E\\u2000\\u2001\\u2002\\u2003' +\n  '\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200A\\u202F\\u205F\\u3000\\u2028\\u2029\\uFEFF';\n","require('../../modules/es6.date.now');\nmodule.exports = require('../../modules/_core').Date.now;\n"],"sourceRoot":""}